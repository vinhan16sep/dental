function getProducts(t=currentPage){const e=$("#appendProducts");e.empty(),currentPage=t;let a="/product/getProducts",i={_token:$('[name="csrf_token"]').attr("value"),limit:15,start:20*(currentPage-1),keyword:""},n=!1,r=!1,s=!1,o=!1,l=!1;$('[data-filter="category"].active').length>0&&(n=$('[data-filter="category"].active').data("id")),$('[data-filter="origin"].active').length>0&&(r=$('[data-filter="origin"].active').data("id")),$('[data-filter="brand"].active').length>0&&(s=$('[data-filter="brand"].active').data("id")),$('[data-filter="focus"].active').length>0&&(o=!0),$('[data-filter="sale"].active').length>0&&(l=!0),n&&(i.categoryId=n),r&&(i.originId=r),s&&(i.brandId=s),o&&(i.isFocus=!0),l&&(i.isSale=!0),$.ajax({url:a,method:"GET",data:i,success:t=>{if(t[0].products.length>0){e.empty();for(let a=0;a<t[0].products.length;a++){let i=t[0].products[a],n=$(".item-product-prepare").clone().show();n.removeClass("item-product-prepare"),n.find("a:not([data-bs-toggle])").attr("href",`/product/detail/${i.slug}`),n.find("img").attr("src",`/assets/upload/product/${i.slug}/${i.image}`),Number(i.is_sale)?n.find(".overlay").append('\n                            <a href="#" data-bs-toggle="tooltip" data-bs-placement="right" title="Campagin">\n                                <i class="fas fa-bookmark"></i>\n                            </a>\n                        '):n.find(".overlay").append("<div></div>"),Number(i.is_focus)?n.find(".overlay").append('\n                            <a href="#" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Sản phẩm nổi bật">\n                                <i class="fas fa-star"></i>\n                            </a>\n                        '):n.find(".overlay").append("<div></div>"),n.find(".code").text(""!=i.code?i.code:"MSP"),n.find(".title").text(i.title),n.find(".brand span").text(i.brand),n.find(".origin span").text(i.origin),n.find(".price span").text(""!=i.price?i.price:"Liên hệ"),e.append(n)}t[0].products.length>=15?new Pagination(".pagination",{current:currentPage,total:t[0].total,perPage:15,onClickItem:getProducts}):$(".pagination").removeClass("show")}else e.html('\n                    <p class="p-overline no-data">\n                        Không có sản phẩm nào được tìm thấy!\n                    </p>\n                '),$(".pagination").removeClass("show")},error:()=>{}})}$(document).ready(function(){new Swiper("#swiperHighlight",{slidesPerView:3,spaceBetween:32,loop:!0,breakpoints:{0:{slidesPerView:1},1024:{slidesPerView:3}},autoplay:{delay:5e3},navigation:{nextEl:"#swiperHighlight .swiper-button-next",prevEl:"#swiperHighlight .swiper-button-prev"},pagination:{el:"#swiperHighlight .swiper-pagination"}});$('[data-bs-toggle="tooltip"]').tooltip(),$(".btn-expand-item").unbind().on("click",function(t){t.preventDefault(),$(this).find("i").hasClass("fa-minus")?$(this).find("i").removeClass("fa-minus").addClass("fa-plus"):$(this).find("i").removeClass("fa-plus").addClass("fa-minus"),$(this).parent().siblings(".item-body").slideToggle()}),$(".btn-filter-product").unbind().on("click",function(t){t.preventDefault();let e=$(this).data("filter");"category"==e||"origin"==e||"brand"==e?$(this).hasClass("active")?$(this).removeClass("active"):($(`.btn-filter-product[data-filter="${e}"]`).removeClass("active"),$(this).addClass("active")):$(this).toggleClass("active"),getProducts(1)}),getProducts()});let currentPage=1;